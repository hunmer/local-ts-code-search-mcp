<script setup lang="ts">
import { ref } from 'vue'
import AppSidebar from '@/components/AppSidebar.vue'
import StatsPanel from '@/components/panels/StatsPanel.vue'
import SourcePanel from '@/components/panels/SourcePanel.vue'
import ToolsPanel from '@/components/panels/ToolsPanel.vue'
import SettingsPanel from '@/components/panels/SettingsPanel.vue'

const currentPanel = ref('stats')
</script>

<template>
  <div class="flex h-screen bg-background">
    <!-- ä¾§è¾¹æ  -->
    <AppSidebar 
      v-model:current-panel="currentPanel" 
      class="w-64 border-r border-border"
    />
    
    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <div class="flex-1 flex flex-col">
      <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
      <header class="h-14 border-b border-border px-6 flex items-center">
        <h1 class="text-lg font-semibold">
          ğŸ” Local TS Code Search MCP - 
          <span class="text-muted-foreground">
            {{ 
              currentPanel === 'stats' ? 'ç»Ÿè®¡é¢æ¿' :
              currentPanel === 'source' ? 'æºä»£ç ' :
              currentPanel === 'tools' ? 'åœ¨çº¿å·¥å…·' :
              currentPanel === 'settings' ? 'è®¾ç½®' : 'æœªçŸ¥'
            }}
          </span>
        </h1>
      </header>
      
      <!-- é¢æ¿å†…å®¹ -->
      <main class="flex-1 overflow-hidden">
        <StatsPanel v-if="currentPanel === 'stats'" />
        <SourcePanel v-else-if="currentPanel === 'source'" />
        <ToolsPanel v-else-if="currentPanel === 'tools'" />
        <SettingsPanel v-else-if="currentPanel === 'settings'" />
      </main>
    </div>
  </div>
</template>
